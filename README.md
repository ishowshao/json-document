# JSON Document - A Schema-Driven Renderer

A dynamic, schema-driven system that transforms raw JSON data into structured, editable HTML documents.

This project is built on a core philosophy: the complete separation of **content (data)** from its **presentation (view)**. It allows you to take any JSON object, and by providing a simple set of mapping rules, render it as a rich, interactive document.

---

## Core Concepts

The system is built around three key components:

1.  **JSON Data**: The single source of truth for your document's content. The structure is completely up to you. You can use a simple flat object or a deeply nested one.

    *Example JSON Data:*
    ```json
    {
      "title": "My Document",
      "author": "John Doe",
      "content": [
        {
          "type": "heading",
          "text": "Chapter 1"
        },
        {
          "type": "paragraph",
          "text": "This is the first paragraph."
        }
      ]
    }
    ```

2.  **Presentation Schema**: A separate JSON object that acts as a bridge between your data and the final HTML. It defines a set of rules that map keys and structures from your data to specific HTML tags and layouts.

    *Example Presentation Schema:*
    ```json
    {
      "rules": {
        "$.title": { "tag": "h1" },
        "$.author": { "tag": "h3" },
        "$.content[*].text": { "tag": "p" }
      },
      "layout": {
        "/content": { "tag": "section" }
      }
    }
    ```

3.  **Rendered Document**: The final, interactive HTML output generated by applying the Presentation Schema to the JSON Data. The key feature is that all leaf-node values (strings, numbers) from your original JSON are **editable inline**, providing a seamless WYSIWYG experience.

## Key Features

-   **Dynamic Rendering**: Instantly render any JSON data into a structured document.
-   **Schema-Driven**: Control the entire look and feel of the output by defining a `Presentation Schema`. No code changes needed to render different data structures.
-   **Inline Editing**: Simply click on any rendered text to edit it. Changes are captured and can be used to update the source JSON data.
-   **Content/Presentation Decoupling**: Modify your data structure or your document's appearance independently.

## Project Setup

```sh
npm install
```

### Run the Development Server

This command will start a local development server and open the application in your browser. The test page allows you to paste your own JSON data and Presentation Schema to see the rendering in real-time.

```sh
npm run dev
```

### Compile and Minify for Production

```sh
npm run build
```

## Recommended IDE Setup

-   [VSCode](https://code.visualstudio.com/)
-   [Volar](https://marketplace.visualstudio.com/items?itemName=Vue.volar) (ensure Vetur is disabled).

## Testing

### Run Unit Tests

Unit tests are run using [Vitest](https://vitest.dev/).

```sh
npm run test:unit
```

### Run End-to-End Tests

E2E tests are run using [Playwright](https://playwright.dev/).

```sh
# Install browsers for the first run
npx playwright install

# Run all E2E tests
npm run test:e2e
```